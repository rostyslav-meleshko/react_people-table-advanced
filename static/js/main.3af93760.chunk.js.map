{"version":3,"sources":["Navbar.tsx","PersonName.tsx","PersonRow.tsx","constAndFunc.ts","TableHeader.tsx","PeopleTable.tsx","PeopleForm.tsx","api.tsx","PeopleFilter.tsx","PeoplePage.tsx","HomePage.tsx","NotFoundPage.tsx","App.tsx","index.tsx"],"names":["Navbar","className","to","PersonName","person","search","useLocation","name","sex","slug","classNames","PersonRow","people","born","died","fatherName","motherName","personSlug","findParentInTable","parentName","find","TABLE_HEADERS","NAME_REGEXP","CURRENT_YEAR","Date","getFullYear","FILTER_PARENTS","gender","bornYear","filter","TableHeader","header","history","useHistory","location","searchParams","URLSearchParams","sortBy","get","sortOrder","onClick","newsortBy","set","push","toString","toUpperCase","src","alt","PeopleTable","useParams","length","map","key","filteredPeople","PeopleForm","setPeople","setIsFormRequired","useState","inputs","setInputs","errors","setErrors","isFormValid","useMemo","fathers","mothers","setSlug","useCallback","toLowerCase","split","join","isYearInRange","inputsField","isYearsDifferenceValid","checkInputName","isNameValid","trim","test","checkGender","isGenderSettled","checkYears","handleChange","event","target","inputName","value","onSubmit","preventDefault","type","borderError","placeholder","onChange","onBlur","checked","disabled","mother","father","fetchPeople","a","fetch","then","request","json","PeopleFilter","query","handleQueryChange","PeoplePage","isFormRequired","appliedQuery","setQuery","useEffect","applyQuery","debounce","newQuery","delete","sortedPeople","tempQuery","includes","sort","b","localeCompare","HomePage","NotFoundPage","App","path","component","exact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3af93760.chunk.js","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\n\nexport const Navbar: React.FC = () => (\n  <nav className=\"navbar navbar-expand-lg bg-light justify-content-center\">\n    <ul className=\"nav justify-content-center\">\n      <li className=\"nav-item\">\n        <Link to='/' className=\"nav-link\">HOME</Link>\n      </li>\n      <li className=\"nav-item\">\n        <Link to='/people' className=\"nav-link\">PEOPLE</Link>\n      </li>\n    </ul>\n  </nav>\n);\n","import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport classNames from 'classnames';\nimport { PersonNameProps } from './typesDefinitions'\n\nexport const PersonName: React.FC<PersonNameProps> = ({ person }) => {\n  const { search } = useLocation();\n\n  if (!person) {\n    return <></>;\n  };\n\n  const { name, sex, slug } = person;\n  return (\n    <Link\n      to={`/people/${slug}${search}`}\n      className={classNames(\"normal-link\", {\n        'text-primary': sex === 'm',\n        'text-danger': sex === 'f',\n      })}\n    >\n      {name}\n    </Link>\n  );\n};\n","import React from 'react';\nimport { PersonRowProps } from './typesDefinitions'\nimport { PersonName } from './PersonName';\n\nexport const PersonRow: React.FC<PersonRowProps> = ({ person, people, slug }) => {\n  const { sex, born, died, fatherName, motherName, slug: personSlug } = person;\n\n  const findParentInTable = (parentName: string) => {\n    const parent = people.find(person => person.name === parentName);\n    return parent;\n  };\n\n  return (\n    <tr className={slug === personSlug ? 'selected' : ''}>\n      <td className={'male'}>\n        <PersonName\n          person={person}\n        />\n      </td>\n      <td>{sex === 'm' ? 'male' : 'female'}</td>\n      <td>{born}</td>\n      <td>{died}</td>\n      <td>\n        {findParentInTable(motherName)\n          ? <PersonName\n            person={findParentInTable(motherName)}\n          />\n          : <> {motherName} </>\n        }\n      </td>\n      <td>\n        {findParentInTable(fatherName)\n          ? <PersonName\n            person={findParentInTable(fatherName)}\n          />\n          : <> {fatherName} </>\n        }\n      </td>\n    </tr >\n  );\n};\n","import { Person } from './typesDefinitions';\n\nexport const NAME = 'name';\nexport const SEX = 'sex';\nexport const BORN = 'born';\nexport const DIED = 'died';\nexport const ASC = 'asc';\nexport const DESC = 'desc';\nexport const TABLE_HEADERS = [NAME, SEX, BORN, DIED]\nexport const NAME_REGEXP = /^[a-zA-Z\\s]*$/;\nexport const CURRENT_YEAR = new Date().getFullYear()\n\nexport const FILTER_PARENTS = (\n  people: Person[], gender: 'm' | 'f',  bornYear: number\n  ) => {\n  return people.filter(\n    person => person.sex === gender\n    && person.born < bornYear\n    && person.died > bornYear\n  );\n}\n","import React from 'react';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport { ASC, DESC } from './constAndFunc';\nimport { TableHeaderProps } from './typesDefinitions';\n\nexport const TableHeader: React.FC<TableHeaderProps> = ({ header }) => {\n  const history = useHistory(); const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const sortBy = searchParams.get('sortBy') || '';\n  const sortOrder = searchParams.get('sortOrder') || '';\n\n  const handlesortByChange = (newsortBy: string): void => {\n    if (sortBy !== newsortBy || sortOrder === DESC) {\n      searchParams.set('sortBy', `${newsortBy}`);\n      searchParams.set('sortOrder', ASC);\n    } else {\n      searchParams.set('sortOrder', DESC);\n    };\n\n    history.push({ search: searchParams.toString() });\n  };\n\n  return (\n    <>\n      <button\n        className=\"cust-btn\"\n        onClick={() => handlesortByChange(header)}\n      >\n        {header.toUpperCase()}\n        {header !== sortBy\n          ? <span><img src=\"images/sort_both.png\" alt=\"not_sorted\"></img></span>\n          : <span>*\n            {sortOrder === ASC\n              ? <img src=\"images/sort_asc.png\" alt=\"sorted_asc\"></img>\n              : <img src=\"images/sort_desc.png\" alt=\"sorted_desc\"></img>\n            }\n          </span>\n        }\n      </button>\n    </>\n  );\n};\n","import React from 'react';\nimport { PersonRow } from './PersonRow';\nimport { Person, PeopleTableProps } from './typesDefinitions'\nimport { useParams } from 'react-router-dom';\nimport { TABLE_HEADERS } from './constAndFunc';\nimport { TableHeader } from './TableHeader';\n\nexport const PeopleTable: React.FC<PeopleTableProps> = ({ people }) => {\n  const { slug } = useParams<{ slug: string }>();\n\n  return (\n    <div>\n      {!!people.length && <table className=\"table table-hover\">\n        <thead>\n          <tr>\n            {TABLE_HEADERS.map(header =>\n              <th key={header}>\n                <TableHeader header={header} filteredPeople={people} />\n              </th>)}\n            <th>MOTHER</th>\n            <th>FATHER</th>\n          </tr>\n        </thead>\n        <tbody>\n          {people.map((person: Person) => (\n            <PersonRow\n              slug={slug}\n              people={people}\n              person={person}\n              key={person.slug}\n            />\n          ))}\n        </tbody>\n      </table>}\n    </div>\n  );\n};\n","import React, { BaseSyntheticEvent, useState, useMemo, useCallback } from 'react';\nimport { PeopleFormProps } from './typesDefinitions';\nimport { NAME_REGEXP, CURRENT_YEAR, FILTER_PARENTS } from './constAndFunc';\nimport classNames from 'classnames';\n\nexport const PeopleForm: React.FC<PeopleFormProps> = ({ people, setPeople, setIsFormRequired }) => {\n  const [inputs, setInputs] = useState({\n    name: '',\n    sex: '',\n    born: 0,\n    died: 0,\n    fatherName: '',\n    motherName: '',\n    slug: '',\n  });\n\n  const [errors, setErrors] = useState({\n    name: false,\n    sex: false,\n    born: false,\n    died: false,\n  });\n\n  const isFormValid = useMemo(() => {\n    return (!errors.name && !errors.sex && !errors.born && !errors.died)\n  }, [errors]);\n\n  const fathers = useMemo(() => {\n    return FILTER_PARENTS(people, 'm', +inputs.born)\n  }, [people, inputs.born]);\n\n  const mothers = useMemo(() => {\n    return FILTER_PARENTS(people, 'f', +inputs.born)\n  }, [people, inputs.born]);\n\n  const setSlug = useCallback(() => {\n    const slug = inputs.name.toLowerCase().split(' ').join('-') + `-${inputs.born}`\n    setInputs(inputs => ({ ...inputs, slug }))\n  }, [inputs.name, inputs.born]);\n\n  const isYearInRange = useCallback(\n    (inputsField: 'born' | 'died'): boolean => {\n      if (inputs.died && +inputs.died < +inputs.born) {\n        return false;\n      };\n\n      return +inputs[inputsField] >= 1400 && +inputs[inputsField] <= CURRENT_YEAR;\n    }, [inputs]);\n\n  const isYearsDifferenceValid = useMemo(() => {\n    if (isYearInRange('born')\n      && isYearInRange('died')\n      && +inputs.died - +inputs.born <= 150) {\n      return true;\n    } else {\n      return false;\n    };\n  }, [isYearInRange, inputs.born, inputs.died]);\n\n  const checkInputName = (): void => {\n    let isNameValid = inputs.name.trim().length > 0\n      ? NAME_REGEXP.test(inputs.name)\n      : false;\n\n    setErrors(errors => (\n      {\n        ...errors,\n        name: !isNameValid,\n      }));\n  };\n\n  const checkGender = (): void => {\n    const isGenderSettled = inputs.sex;\n    setErrors(errors => ({ ...errors, sex: !isGenderSettled }))\n  };\n\n  const checkYears = (): void => {\n    setErrors(errors => ({ ...errors, born: !isYearInRange('born'), died: !isYearInRange('died') }))\n  };\n\n  const handleChange = (\n    event: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>\n  ): void => {\n    const { name: inputName, value } = event.target\n    setInputs(inputs => (\n      {\n        ...inputs,\n        [inputName]: value\n      }))\n    setSlug();\n  };\n\n  const clearForm = (): void => {\n    setInputs({\n      name: '',\n      sex: '',\n      born: 0,\n      died: 0,\n      motherName: '',\n      fatherName: '',\n      slug: '',\n    });\n    setIsFormRequired(false);\n  };\n\n  const handleSubmit = (event: BaseSyntheticEvent) => {\n    event.preventDefault();\n    if (isFormValid && isYearsDifferenceValid) {\n      setPeople([...people, inputs]);\n      clearForm();\n      setIsFormRequired(false);\n    } else {\n      checkInputName();\n      checkGender();\n      checkYears();\n    }\n  };\n\n  return (\n    <>\n      <form className=\"form-floating sticky-top display-fluid\"\n        onSubmit={handleSubmit}\n      >\n        <h3 className=\"display-4 text-center\">New Person Form</h3>\n\n        <input\n          type=\"text\"\n          name=\"name\"\n          className={classNames(\"form-control mb-3\", { borderError: errors.name })}\n          placeholder=\"Enter name\"\n          value={inputs.name}\n          onChange={handleChange}\n          onBlur={() => checkInputName()}\n        />\n        {errors.name &&\n          <p className=\"text-danger\">Name should have valid characters only</p>}\n\n        <div className=\"input-group mb-3\">\n          <div className=\"input-group-prepend-inline width30 \">\n            <span className=\"input-group-text\">Select gender</span>\n          </div>\n          <div className={classNames(\"wrapper input-group-inline\",\n            { borderError: errors.sex })}>\n\n            <div className=\"custom-control-inline custom-radio\">\n              <div className=\"form-check input-group radio \">\n                <input\n                  className=\"form-check-input\"\n                  type=\"radio\"\n                  name=\"sex\"\n                  value='m'\n                  checked={inputs.sex === 'm'}\n                  onChange={handleChange}\n                  onBlur={() => checkGender()}\n\n                />\n                  Male\n              </div>\n            </div>\n\n            <div className=\"custom-control-inline custom-radio\">\n              <div className=\"form-check radio\" >\n                <input\n                  className=\"form-check-input\"\n                  type=\"radio\"\n                  name=\"sex\"\n                  value='f'\n                  checked={inputs.sex === 'f'}\n                  onChange={handleChange}\n                  onBlur={() => checkGender()}\n                />\n                  Female\n              </div>\n            </div>\n\n            <div className=\"custom-control-inline custom-radio\">\n              <div className=\"form-check radio\" >\n                <input\n                  className=\"form-check-input\"\n                  type=\"radio\"\n                  name=\"sex\"\n                  disabled\n                />\n                  Xenomorph\n              </div>\n            </div>\n\n          </div>\n        </div>\n        {errors.sex &&\n          <p className=\"text-danger\">Gender is required</p>}\n\n        <div className=\"input-group mb-3\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\">Year of born</span>\n          </div>\n          <input\n            type=\"number\"\n            name=\"born\"\n            className={classNames(\"form-control\", {\n              borderError: errors.born\n            })}\n            placeholder=\"Should be over 1400\"\n            value={inputs.born === 0 ? '' : inputs.born}\n            onChange={handleChange}\n            onBlur={() => checkYears()}\n          />\n        </div>\n\n\n        {(errors.born || errors.died) &&\n          <p className=\"text-danger\">\n            {`Year of born / death should be in range from 1400 to ${CURRENT_YEAR}`}\n          </p>}\n\n        <div className=\"input-group mb-3\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\">Year of death</span>\n          </div>\n          <input\n            type=\"number\"\n            name=\"died\"\n            className={classNames(\"form-control\", {\n              borderError: errors.died\n            })}\n            placeholder={`Should be less then ${CURRENT_YEAR}`}\n            disabled={!inputs.born}\n            value={inputs.died === 0 ? '' : inputs.died}\n            onChange={handleChange}\n            onBlur={() => checkYears()}\n          />\n        </div>\n\n        {!isYearsDifferenceValid &&\n          <p className=\"text-danger\">\n            Difference between death and born years should not be more then 150\n          </p>}\n        <select\n          value={inputs.motherName}\n          onChange={handleChange}\n          className=\"form-control form-select-fluid mb-3\"\n          name=\"motherName\"\n          disabled={!isYearInRange('born')}\n        >\n          <option value=''>Choose Mother</option>\n          {+inputs.born >= 1400 && mothers.map(mother => (\n            <option\n              value={mother.name}\n              key={mother.name}\n            >\n              {mother.name}\n            </option>\n          ))}\n        </select>\n\n        <select\n          value={inputs.fatherName}\n          onChange={handleChange}\n          className=\"form-control form-select-fluid mb-3\"\n          name=\"fatherName\"\n          disabled={!isYearInRange('born')}\n        >\n          <option value=''>Choose Father</option>\n          {+inputs.born >= 1400 && fathers.map(father => (\n            <option\n              value={father.name}\n              key={father.name}\n            >\n              {father.name}\n            </option>\n          ))}\n        </select>\n\n        <div className=\"d-grid gap-2 col-4 mx-auto\">\n          <button\n            type=\"submit\"\n            className=\"btn btn-primary\"\n          >\n            Add new person\n        </button>\n        </div>\n      </form>\n    </>\n  );\n};\n","export const fetchPeople = async() => {\n  const people = await fetch('https://mate-academy.github.io/react_people-table/api/people.json')\n    .then(request => request.json());\n\n  return people;\n}\n","import React from 'react';\nimport { PeopleFilterProps } from './typesDefinitions';\n\nexport const PeopleFilter: React.FC<PeopleFilterProps> = ({ query,\n  handleQueryChange }) => {\n\n  return (\n    <div className=\"input-group input-group-lg\">\n      <div className=\"input-group-prepend\">\n        <span className=\"input-group-text\">Find person</span>\n      </div>\n      <input\n        type=\"text\"\n        className=\"form-control\"\n        placeholder=\"Please enter name\"\n        value={query}\n        onChange={(event) => handleQueryChange(event.target.value)} />\n    </div>\n  );\n};\n","import React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { PeopleTable } from './PeopleTable';\nimport { PeopleForm } from './PeopleForm';\nimport { fetchPeople } from './api';\nimport { Person } from './typesDefinitions';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport { NAME, BORN, DIED, SEX, ASC } from './constAndFunc';\nimport { PeopleFilter } from './PeopleFilter';\nimport { debounce } from 'lodash';\n\nexport const PeoplePage: React.FC = () => {\n  const [people, setPeople] = useState<Person[]>([]);\n  const [isFormRequired, setIsFormRequired] = useState(false);\n  const history = useHistory();\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const appliedQuery = searchParams.get('query') || '';\n  const [query, setQuery] = useState(appliedQuery);\n  const sortBy = searchParams.get('sortBy') || '';\n  const sortOrder = searchParams.get('sortOrder') || '';\n\n  useEffect(() => {\n    fetchPeople().then(setPeople);\n  }, []);\n\n  const applyQuery = useCallback(\n    debounce((newQuery) => {\n      if (newQuery) {\n        searchParams.set('query', newQuery);\n      } else {\n        searchParams.delete('query');\n      };\n\n      history.push(`?${searchParams.toString()}`);\n    }, 1000), []\n  );\n\n  const handleQueryChange = (value: string): void => {\n    setQuery(value);\n    applyQuery(value);\n  };\n\n  const filteredPeople = useMemo(() => {\n    let sortedPeople = [...people];\n\n    if (appliedQuery) {\n      const tempQuery = query.toLowerCase().trim();\n      sortedPeople = people.filter(person => (\n        (person.name + person.motherName + person.fatherName)\n          .toLowerCase().includes(tempQuery)));\n    };\n\n    if (!!sortOrder) {\n      switch (sortBy) {\n        case NAME:\n        case SEX:\n          sortedPeople.sort((a, b) => {\n            return sortOrder === ASC\n              ? a[sortBy].localeCompare(b[sortBy])\n              : b[sortBy].localeCompare(a[sortBy])\n          });\n          break;\n        case BORN:\n        case DIED:\n          sortedPeople.sort((a, b) => {\n            return sortOrder === ASC\n              ? a[sortBy] - b[sortBy]\n              : b[sortBy] - a[sortBy]\n          });\n          break;\n        default:\n          break;\n      };\n    };\n\n    return sortedPeople;\n  }, [appliedQuery, people, query, sortBy, sortOrder]);\n\n  return (\n    <>\n      <h1 className=\"display-3\">People table</h1>\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col-8\">\n            <PeopleTable people={filteredPeople} />\n          </div>\n          <div className=\"col-4\">\n            <PeopleFilter\n              handleQueryChange={handleQueryChange}\n              query={query}\n            />\n            {isFormRequired\n              ? <PeopleForm\n                people={people}\n                setIsFormRequired={setIsFormRequired}\n                setPeople={setPeople} />\n              : <div className=\"d-grid gap-2 col-4 mx-auto sticky-top\">\n                <button\n                  className=\"btn btn-primary isButton\"\n                  type=\"button\"\n                  onClick={() => setIsFormRequired(true)}\n                >\n                  Add new person\n                </button>\n              </div>}\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n","import React from 'react';\n\nexport const HomePage: React.FC = () => {\n  return <h1 className=\"display-3\">Home Page</h1>;\n};\n","import React from 'react';\n\nexport const NotFoundPage: React.FC = () => {\n  return (\n    <h1 className=\"display-3 text-danger\">Page not found</h1>\n  );\n};\n","import React from 'react';\nimport { Route, Redirect, Switch } from 'react-router-dom';\nimport { Navbar } from './Navbar';\nimport { PeoplePage } from './PeoplePage';\nimport { HomePage } from './HomePage';\nimport { NotFoundPage } from './NotFoundPage';\nimport './App.scss';  \n\nconst App: React.FC = () => (\n  <>\n    <header>\n      <Navbar />\n    </header>\n    <div className=\"App\">\n      <Switch>\n        <Route path='/people/:slug?' component={PeoplePage} />\n        <Route exact path='/' component={HomePage} />\n        <Redirect path='/home' to='/' />\n        <NotFoundPage />\n      </Switch>\n    </div>\n  </>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter, } from 'react-router-dom';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport App from './App';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}
{"version":3,"sources":["Navbar.tsx","PersonName.tsx","PersonRow.tsx","constants.ts","TableHeader.tsx","PeopleTable.tsx","PeopleForm.tsx","api.tsx","PeopleFilter.tsx","PeoplePage.tsx","HomePage.tsx","NotFoundPage.tsx","App.tsx","index.tsx"],"names":["Navbar","className","to","PersonName","person","search","useLocation","name","sex","slug","classNames","PersonRow","people","born","died","fatherName","motherName","personSlug","findParentInTable","parentName","find","TABLE_HEADERS","NAME_REGEXP","CURRENT_YEAR","Date","getFullYear","FILTER_PARENTS","gender","bornYear","filter","TableHeader","header","history","useHistory","location","searchParams","URLSearchParams","sortBy","get","sortOrder","onClick","newsortBy","set","push","toString","toUpperCase","src","alt","PeopleTable","useParams","length","map","key","filteredPeople","PeopleForm","setPeople","setIsFormRequired","useState","inputs","setInputs","errors","setErrors","isFormValid","useMemo","Object","values","some","Boolean","fathers","mothers","setSlug","useCallback","toLowerCase","split","join","isYearInRange","inputsField","isYearsDifferenceValid","checkInputName","isNameValid","trim","test","checkGender","isGenderSettled","checkYears","handleChange","event","target","inputName","value","clearForm","onSubmit","preventDefault","type","cn","borderError","placeholder","onChange","onBlur","checked","disabled","mother","father","fetchPeople","a","fetch","then","request","json","PeopleFilter","query","handleQueryChange","PeoplePage","isFormRequired","appliedQuery","setQuery","useEffect","applyQuery","debounce","newQuery","delete","sortedPeople","tempQuery","includes","sort","b","localeCompare","HomePage","NotFoundPage","App","path","component","exact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.390457d1.chunk.js","sourcesContent":["import React, { FC } from 'react';\nimport { Link } from 'react-router-dom';\n\nexport const Navbar: FC = () => (\n  <nav className=\"navbar navbar-expand-lg bg-light justify-content-center\">\n    <ul className=\"nav justify-content-center\">\n      <li className=\"nav-item\">\n        <Link to='/' className=\"nav-link text-UC\">home</Link>\n      </li>\n      <li className=\"nav-item\">\n        <Link to='/people' className=\"nav-link text-UC\">people</Link>\n      </li>\n    </ul>\n  </nav>\n);\n","import React, { FC } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport classNames from 'classnames';\nimport { PersonNameProps } from './typesDefinitions'\n\nexport const PersonName: FC<PersonNameProps> = ({ person }) => {\n  const { search } = useLocation();\n\n  if (!person) {\n    return <></>;\n  };\n\n  const { name, sex, slug } = person;\n  return (\n    <Link\n      to={`/people/${slug}${search}`}\n      className={classNames(\"normal-link\", {\n        'text-primary': sex === 'm',\n        'text-danger': sex === 'f',\n      })}\n    >\n      {name}\n    </Link>\n  );\n};\n","import React, { FC } from 'react';\nimport { PersonRowProps } from './typesDefinitions'\nimport { PersonName } from './PersonName';\n\nexport const PersonRow: FC<PersonRowProps> = ({\n  person, people, slug,\n}) => {\n  const { sex, born, died, fatherName, motherName, slug: personSlug } = person;\n\n  const findParentInTable = (parentName: string) => {\n    const parent = people.find(person => person.name === parentName);\n    return parent;\n  };\n\n  return (\n    <tr className={slug === personSlug ? 'selected' : ''}>\n      <td className={'male'}>\n        <PersonName\n          person={person}\n        />\n      </td>\n      <td>{sex === 'm' ? 'male' : 'female'}</td>\n      <td>{born}</td>\n      <td>{died}</td>\n      <td>\n        {findParentInTable(motherName)\n          ? <PersonName\n            person={findParentInTable(motherName)}\n          />\n          : <> {motherName} </>\n        }\n      </td>\n      <td>\n        {findParentInTable(fatherName)\n          ? <PersonName\n            person={findParentInTable(fatherName)}\n          />\n          : <> {fatherName} </>\n        }\n      </td>\n    </tr >\n  );\n};\n","import { Person } from './typesDefinitions';\n\nexport const NAME = 'name';\nexport const SEX = 'sex';\nexport const BORN = 'born';\nexport const DIED = 'died';\nexport const ASC = 'asc';\nexport const DESC = 'desc';\nexport const TABLE_HEADERS = [NAME, SEX, BORN, DIED]\nexport const NAME_REGEXP = /^[a-zA-Z\\s]*$/;\nexport const CURRENT_YEAR = new Date().getFullYear()\n\nexport const FILTER_PARENTS = (\n  people: Person[], gender: 'm' | 'f',  bornYear: number\n  ) => {\n  return people.filter(\n    person => person.sex === gender\n    && person.born < bornYear\n    && person.died > bornYear\n  );\n}\n","import React, { FC } from 'react';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport { ASC, DESC } from './constants';\nimport { TableHeaderProps } from './typesDefinitions';\n\nexport const TableHeader: FC<TableHeaderProps> = ({ header }) => {\n  const history = useHistory(); const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const sortBy = searchParams.get('sortBy') || '';\n  const sortOrder = searchParams.get('sortOrder') || '';\n\n  const handlesortByChange = (newsortBy: string): void => {\n    if (sortBy !== newsortBy || sortOrder === DESC) {\n      searchParams.set('sortBy', `${newsortBy}`);\n      searchParams.set('sortOrder', ASC);\n    } else {\n      searchParams.set('sortOrder', DESC);\n    };\n\n    history.push({ search: searchParams.toString() });\n  };\n\n  return (\n    <>\n      <button\n        className=\"cust-btn\"\n        onClick={() => handlesortByChange(header)}\n      >\n        {header.toUpperCase()}\n        {header !== sortBy\n          ? <span><img src=\"images/sort_both.png\" alt=\"not_sorted\"></img></span>\n          : <span>*\n            {sortOrder === ASC\n              ? <img src=\"images/sort_asc.png\" alt=\"sorted_asc\"></img>\n              : <img src=\"images/sort_desc.png\" alt=\"sorted_desc\"></img>\n            }\n          </span>\n        }\n      </button>\n    </>\n  );\n};\n","import React, { FC } from 'react';\nimport { PersonRow } from './PersonRow';\nimport { Person, PeopleTableProps } from './typesDefinitions'\nimport { useParams } from 'react-router-dom';\nimport { TABLE_HEADERS } from './constants';\nimport { TableHeader } from './TableHeader';\n\nexport const PeopleTable: FC<PeopleTableProps> = ({ people }) => {\n  const { slug } = useParams<{ slug: string }>();\n\n  return (\n    <div>\n      {!!people.length && <table className=\"table table-hover\">\n        <thead>\n          <tr>\n            {TABLE_HEADERS.map(header =>\n              <th key={header}>\n                <TableHeader header={header} filteredPeople={people} />\n              </th>)}\n            <th>MOTHER</th>\n            <th>FATHER</th>\n          </tr>\n        </thead>\n        <tbody>\n          {people.map((person: Person) => (\n            <PersonRow\n              slug={slug}\n              people={people}\n              person={person}\n              key={person.slug}\n            />\n          ))}\n        </tbody>\n      </table>}\n    </div>\n  );\n};\n","import React, {\n  BaseSyntheticEvent, useState, useMemo, useCallback, FC\n} from 'react';\nimport { PeopleFormProps } from './typesDefinitions';\nimport { NAME_REGEXP, CURRENT_YEAR, FILTER_PARENTS } from './constants';\nimport cn from 'classnames';\n\nexport const PeopleForm: FC<PeopleFormProps> = ({\n  people, setPeople, setIsFormRequired,\n}) => {\n  const [inputs, setInputs] = useState({\n    name: '',\n    sex: '',\n    born: 0,\n    died: 0,\n    fatherName: '',\n    motherName: '',\n    slug: '',\n  });\n\n  const [errors, setErrors] = useState({\n    name: false,\n    sex: false,\n    born: false,\n    died: false,\n  });\n\n  const isFormValid = useMemo(() => {\n    return !Object.values(errors).some(Boolean);\n  }, [errors]);\n\n  const fathers = useMemo(() => {\n    return FILTER_PARENTS(people, 'm', +inputs.born)\n  }, [people, inputs.born]);\n\n  const mothers = useMemo(() => {\n    return FILTER_PARENTS(people, 'f', +inputs.born)\n  }, [people, inputs.born]);\n\n  const setSlug = useCallback(() => {\n    const slug = inputs.name.toLowerCase()\n      .split(' ').join('-') + `-${inputs.born}`\n    setInputs(inputs => ({ ...inputs, slug }))\n  }, [inputs.name, inputs.born]);\n\n  const isYearInRange = useCallback(\n    (inputsField: 'born' | 'died'): boolean => {\n      if (inputs.died && +inputs.died < +inputs.born) {\n        return false;\n      };\n\n      return +inputs[inputsField] >= 1400\n        && +inputs[inputsField] <= CURRENT_YEAR;\n    }, [inputs]);\n\n  const isYearsDifferenceValid = useMemo(() => {\n    if (isYearInRange('born')\n      && isYearInRange('died')\n      && +inputs.died - +inputs.born <= 150) {\n      return true;\n    } else {\n      return false;\n    };\n  }, [isYearInRange, inputs.born, inputs.died]);\n\n  const checkInputName = (): void => {\n    let isNameValid = inputs.name.trim().length > 0\n      ? NAME_REGEXP.test(inputs.name)\n      : false;\n\n    setErrors(errors => (\n      {\n        ...errors,\n        name: !isNameValid,\n      }));\n  };\n\n  const checkGender = (): void => {\n    const isGenderSettled = inputs.sex;\n    setErrors(errors => ({ ...errors, sex: !isGenderSettled }))\n  };\n\n  const checkYears = (): void => {\n    setErrors(errors => (\n      {\n        ...errors,\n        born: !isYearInRange('born'),\n        died: !isYearInRange('died')\n      }))\n  };\n\n  const handleChange = (\n    event: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>\n  ): void => {\n    const { name: inputName, value } = event.target\n    setInputs(inputs => (\n      {\n        ...inputs,\n        [inputName]: value\n      }))\n    setSlug();\n  };\n\n  const clearForm = useCallback((): void => {\n    setInputs({\n      name: '',\n      sex: '',\n      born: 0,\n      died: 0,\n      motherName: '',\n      fatherName: '',\n      slug: '',\n    });\n  }, [])\n\n  const handleSubmit = (event: BaseSyntheticEvent) => {\n    event.preventDefault();\n    if (isFormValid && isYearsDifferenceValid) {\n      setPeople([...people, inputs]);\n      clearForm();\n      setIsFormRequired(false);\n    } else {\n      checkInputName();\n      checkGender();\n      checkYears();\n    }\n  };\n\n  return (\n    <>\n      <form className=\"form-floating sticky-top display-fluid\"\n        onSubmit={handleSubmit}\n      >\n        <h3 className=\"display-4 text-center\">New Person Form</h3>\n\n        <input\n          type=\"text\"\n          name=\"name\"\n          className={cn(\n            \"form-control mb-3\",\n            { borderError: errors.name },\n          )}\n          placeholder=\"Enter name\"\n          value={inputs.name}\n          onChange={handleChange}\n          onBlur={checkInputName}\n        />\n        {errors.name &&\n          <p className=\"text-danger\">Name should have valid characters only</p>}\n\n        <div className=\"input-group mb-3\">\n          <div className=\"input-group-prepend-inline width30 \">\n            <span className=\"input-group-text\">Select gender</span>\n          </div>\n          <div className={cn(\n            \"wrapper input-group-inline\",\n            { borderError: errors.sex },\n          )}>\n\n            <div className=\"custom-control-inline custom-radio\">\n              <div className=\"form-check input-group radio \">\n                <input\n                  className=\"form-check-input\"\n                  type=\"radio\"\n                  name=\"sex\"\n                  value='m'\n                  checked={inputs.sex === 'm'}\n                  onChange={handleChange}\n                  onBlur={checkGender}\n\n                />\n                  Male\n              </div>\n            </div>\n\n            <div className=\"custom-control-inline custom-radio\">\n              <div className=\"form-check radio\" >\n                <input\n                  className=\"form-check-input\"\n                  type=\"radio\"\n                  name=\"sex\"\n                  value='f'\n                  checked={inputs.sex === 'f'}\n                  onChange={handleChange}\n                  onBlur={checkGender}\n                />\n                  Female\n              </div>\n            </div>\n\n            <div className=\"custom-control-inline custom-radio\">\n              <div className=\"form-check radio\" >\n                <input\n                  className=\"form-check-input\"\n                  type=\"radio\"\n                  name=\"sex\"\n                  disabled\n                />\n                  Xenomorph\n              </div>\n            </div>\n\n          </div>\n        </div>\n        {errors.sex\n          && <p className=\"text-danger\">Gender is required</p>\n        }\n\n        <div className=\"input-group mb-3\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\">Year of born</span>\n          </div>\n          <input\n            type=\"number\"\n            name=\"born\"\n            className={cn(\n              \"form-control\",\n              { borderError: errors.born },\n            )}\n            placeholder=\"Should be over 1400\"\n            value={inputs.born === 0 ? '' : inputs.born}\n            onChange={handleChange}\n            onBlur={checkYears}\n          />\n        </div>\n\n\n        {(errors.born || errors.died)\n          && (\n            <p className=\"text-danger\">\n              {`Years of born & death should be in range from 1400 to ${CURRENT_YEAR}`}\n            </p>\n          )}\n\n        <div className=\"input-group mb-3\">\n          <div className=\"input-group-prepend\">\n            <span className=\"input-group-text\">Year of death</span>\n          </div>\n          <input\n            type=\"number\"\n            name=\"died\"\n            className={cn(\n              \"form-control\",\n              { borderError: errors.died },\n            )}\n            placeholder={`Should be less then ${CURRENT_YEAR}`}\n            disabled={!inputs.born}\n            value={inputs.died === 0 ? '' : inputs.died}\n            onChange={handleChange}\n            onBlur={checkYears}\n          />\n        </div>\n\n        {!isYearsDifferenceValid &&\n          <p className=\"text-danger\">\n            Difference between death and born years should not be more then 150\n          </p>}\n        <select\n          value={inputs.motherName}\n          onChange={handleChange}\n          className=\"form-control form-select-fluid mb-3\"\n          name=\"motherName\"\n          disabled={!isYearInRange('born')}\n        >\n          <option value=''>Choose Mother</option>\n          {+inputs.born >= 1400 && mothers.map(mother => (\n            <option\n              value={mother.name}\n              key={mother.name}\n            >\n              {mother.name}\n            </option>\n          ))}\n        </select>\n\n        <select\n          value={inputs.fatherName}\n          onChange={handleChange}\n          className=\"form-control form-select-fluid mb-3\"\n          name=\"fatherName\"\n          disabled={!isYearInRange('born')}\n        >\n          <option value=''>Choose Father</option>\n          {+inputs.born >= 1400 && fathers.map(father => (\n            <option\n              value={father.name}\n              key={father.name}\n            >\n              {father.name}\n            </option>\n          ))}\n        </select>\n\n        <div className=\"d-grid gap-2 col-4 mx-auto\">\n          <button\n            type=\"submit\"\n            className=\"btn btn-primary\"\n          >\n            Add new person\n        </button>\n        </div>\n      </form>\n    </>\n  );\n};\n","export const fetchPeople = async () => {\n  const people = await fetch(\n    'https://mate-academy.github.io/react_people-table/api/people.json'\n  ).then(request => request.json());\n\n  return people;\n}\n","import React, { FC } from 'react';\nimport { PeopleFilterProps } from './typesDefinitions';\n\nexport const PeopleFilter: FC<PeopleFilterProps> = ({\n  query, handleQueryChange,\n}) => {\n\n  return (\n    <div className=\"input-group input-group-lg\">\n      <div className=\"input-group-prepend\">\n        <span className=\"input-group-text\">Find person</span>\n      </div>\n      <input\n        type=\"text\"\n        className=\"form-control\"\n        placeholder=\"Please enter name\"\n        value={query}\n        onChange={({ target }) => handleQueryChange(target.value)} />\n    </div>\n  );\n};\n","import React, { useState, useEffect, useCallback, useMemo, FC } from 'react';\nimport { PeopleTable } from './PeopleTable';\nimport { PeopleForm } from './PeopleForm';\nimport { fetchPeople } from './api';\nimport { Person } from './typesDefinitions';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport { NAME, BORN, DIED, SEX, ASC } from './constants';\nimport { PeopleFilter } from './PeopleFilter';\nimport { debounce } from 'lodash';\n\nexport const PeoplePage: FC = () => {\n  const [people, setPeople] = useState<Person[]>([]);\n  const [isFormRequired, setIsFormRequired] = useState(false);\n  const history = useHistory();\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const appliedQuery = searchParams.get('query') || '';\n  const [query, setQuery] = useState(appliedQuery);\n  const sortBy = searchParams.get('sortBy') || '';\n  const sortOrder = searchParams.get('sortOrder') || '';\n\n  useEffect(() => {\n    fetchPeople().then(setPeople);\n  }, []);\n\n  const applyQuery = useCallback(\n    debounce((newQuery) => {\n      if (newQuery) {\n        searchParams.set('query', newQuery);\n      } else {\n        searchParams.delete('query');\n      };\n\n      history.push({\n        search: searchParams.toString(),\n         });\n    }, 1000), []\n  );\n\n  const handleQueryChange = (value: string): void => {\n    setQuery(value);\n    applyQuery(value);\n  };\n\n  const filteredPeople = useMemo(() => {\n    let sortedPeople = [...people];\n\n    if (appliedQuery) {\n      const tempQuery = appliedQuery.toLowerCase().trim();\n      sortedPeople = people.filter(person => (\n        (person.name + person.motherName + person.fatherName)\n          .toLowerCase().includes(tempQuery)));\n    };\n\n    if (!!sortOrder) {\n      switch (sortBy) {\n        case NAME:\n        case SEX:\n          sortedPeople.sort((a, b) => {\n            return sortOrder === ASC\n              ? a[sortBy].localeCompare(b[sortBy])\n              : b[sortBy].localeCompare(a[sortBy])\n          });\n          break;\n        case BORN:\n        case DIED:\n          sortedPeople.sort((a, b) => {\n            return sortOrder === ASC\n              ? a[sortBy] - b[sortBy]\n              : b[sortBy] - a[sortBy]\n          });\n          break;\n        default:\n          break;\n      };\n    };\n\n    return sortedPeople;\n  }, [appliedQuery, people, sortBy, sortOrder]);\n\n  return (\n    <>\n      <h1 className=\"display-3\">People table</h1>\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col-8\">\n            <PeopleTable people={filteredPeople} />\n          </div>\n          <div className=\"col-4\">\n            <PeopleFilter\n              handleQueryChange={handleQueryChange}\n              query={query}\n            />\n            {isFormRequired\n              ? (\n                <PeopleForm\n                  people={people}\n                  setIsFormRequired={setIsFormRequired}\n                  setPeople={setPeople}\n                />\n              )\n              : (\n                <div className=\"d-grid gap-2 col-4 mx-auto sticky-top\">\n                  <button\n                    className=\"btn btn-primary isButton\"\n                    type=\"button\"\n                    onClick={() => setIsFormRequired(true)}\n                  >\n                    Add new person\n                </button>\n                </div>\n              )}\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n","import React, { FC } from 'react';\n\nexport const HomePage: FC = () => {\n  return <h1 className=\"display-3\">Home Page</h1>;\n};\n","import React, { FC } from 'react';\n\nexport const NotFoundPage: FC = () => {\n  return (\n    <h1 className=\"display-3 text-danger\">Page not found</h1>\n  );\n};\n","import React, { FC } from 'react';\nimport { Route, Redirect, Switch } from 'react-router-dom';\nimport { Navbar } from './Navbar';\nimport { PeoplePage } from './PeoplePage';\nimport { HomePage } from './HomePage';\nimport { NotFoundPage } from './NotFoundPage';\nimport './App.scss';  \n\nconst App: FC = () => (\n  <>\n    <header>\n      <Navbar />\n    </header>\n    <div className=\"App\">\n      <Switch>\n        <Route path='/people/:slug?' component={PeoplePage} />\n        <Route exact path='/' component={HomePage} />\n        <Redirect path='/home' to='/' />\n        <NotFoundPage />\n      </Switch>\n    </div>\n  </>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter, } from 'react-router-dom';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport App from './App';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}